;This assembly program generates the square numbers from 1 and puts them in memory one after the other starting at address 101
;The program will stop if the arithmatic has overflowed (if the square number is bigger then 255)

;-Program Begin-

;load the number at address 200 into Y (our starting value. If 3, program starts generating the square of 3 and keep going from there)
LDY 200 

:new_loop
;store Y at 100
STY 100 
;copy Y to A
TYA 
;copy X to A
TAX 
;clear the zero flag and overflow flag
CLZ 

CLO

:loop
;decrement X
DEX 
;branch to label completed if zero flag is set
BZR completed 
;if not, add value at 100 to A
ADD 100 
;jump to the loop label
JMP loop 

:completed
;store A at 100 plus Y index (basically store at (100+y) ) 
STR 100,y 
;branch to label overflow_end if the overflow flag is set
BOV overflow_end 
;increment Y
ICY 
;jump to new_loop label
JMP new_loop 

:overflow_end
;halt the computer
BRK 
;-Program End-

*200
;this is the number that the program uses to start the square number generation from, it's stored at 200 and it can be changed to anything
1 