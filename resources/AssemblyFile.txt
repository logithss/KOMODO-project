;This assembly program generates the square numbers from 1 and puts them in memory one after the other starting at address 101
;The program will stop if the arithmatic has overflowed (if the square number is bigger then 255)

;-Program Begin-

LDY 200 ;load the number at address 200 into Y (our starting value. If 3, program starts generating the square of 3 and keep going from there)

:new_loop
STY 100 ;store Y at 100
TYA ;copy Y to A
TAX ;copy X to A
CLZ ;clear the zero flag and overflow flag
CLO

:loop
DEX ;decrement X
BZR completed ;branch to label completed if zero flag is set
ADD 100 ;if not, add value at 100 to A
JMP loop ;jump to the loop label

:completed
STR 100,y ;store A at 100 plus Y index (basically store at (100+y) ) 
BOV overflow_end ;branch to label overflow_end if the overflow flag is set
ICY ;increment Y
JMP new_loop ;jump to new_loop label

:overflow_end
BRK ;halt the computer
;-Program End-

*200
1 ;this is the number that the program uses to start the square number generation from, it's stored at 200 and it can be changed to anything